#include<stdio.h>
#include<string.h>

typedef struct{
    int Time[3];
    char Name[16];
    int frequency;
}User;

int main(){
    int n;
    scanf("%d", &n);
    User u[100];
    for(int i = 0; i < 100; i++){
        u[i].frequency = 0;
        for(int j = 0; j < 16; j++){
            u[i].Name[j] = '\0';
        }
        for(int j = 0; j < 3; j++){
            u[i].Time[j] = 0;
        }
    }
    int num = 0;
    for(int i = 0; i < n; i++){
        User Input;
        scanf("%d %d %d %s", &Input.Time[0], &Input.Time[1], &Input.Time[2], Input.Name);
        char Operation[6];
        scanf("%s", Operation);
        if(!strcmp(Operation, "LOGIN")){
            int exist;
            for(int j = 0; j <= num; j++){
                exist = 0;
                if(!strcmp(u[j].Name, Input.Name)){
                    u[j].frequency++;
                    for(int k = 0; k < 3; k++){
                        u[j].Time[k] = Input.Time[k];
                    }
                    exist = 1;
                    break;
                }
            }
            if(!exist){
                strcpy(u[num].Name, Input.Name);
                for(int j = 0; j < 3; j++){
                    u[num].Time[j] = Input.Time[j];
                }
                u[num].frequency = 1;
                num++;
            }
        }
    }
    for(int i = 0; i < num - 1; i++){
        for(int j = 0; j < num - i - 1; j++){
            if((u[j].frequency < u[j + 1].frequency) || (u[j].frequency == u[j + 1].frequency && strcmp(u[j].Name, u[j + 1].Name) > 0)){
                User temp;
                temp = u[j];
                u[j] = u[j + 1];
                u[j + 1] = temp;
            }
        }
    }
    for(int i = 0; i < num; i++){
        printf("%s %d %d %d %d\n", u[i].Name, u[i].frequency, u[i].Time[0], u[i].Time[1], u[i].Time[2]);
    }
    return 0;
}
